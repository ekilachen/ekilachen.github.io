!function(e){var t={};function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=6)}([function(e,t){e.exports=aliceart},function(e,t){e.exports=nunjucks},function(e,t,s){"use strict";e.exports=function(e){e.addGlobal("JSON",JSON),e.addGlobal("__",e=>e)}},function(e,t){e.exports=function(e,t,s,o){var n=s.root;s.root=function(e,t,s,i,r,a){var c=e.getTemplate;e.getTemplate=function(e,t,n,i,r){"function"==typeof t&&(r=t=!1);var a=function(e){try{return o[e]}catch(t){if(s.get("_require"))return s.get("_require")(e);console.warn('Could not load template "%s"',e)}},c=a(e);s.set("_require",a),t&&c.compile(),r(null,c)},n(e,t,s,i,r,function(t,s){e.getTemplate=c,a(t,s)})};var i={obj:s,type:"code"};return new e.Template(i,t)}},function(e,t){e.exports=aliceart_web_ui},,function(e,t,s){e.exports=s(7)},function(e,t,s){s(0).ui.register("doc-site",s(8))},function(e,t,s){"use strict";s(9);const{assert:o,ui:n,klass:i,toMap:r}=s(0),{root:a,xbarc:c,profile:l}=n.modules,p=s(10),m=s(11),d=s(14),u=s(17),f=s(20),h="static"===l.mode,v="spa"===l.mode;function b(e){return`doc-${e}`}function k(e){return`doc-${e}-ts`}e.exports={initDoc(e,t){if(!h){var s=n.first(e);x.instance({elem:s,cell:t})}}};const x=n.Comp.subclass({_init({elem:e,cell:t}){o(e&&t&&t.cid,"null input"),this.cell=t,this._applyBindings();let s=this.forum=this.origForum=p.instance(t.data);this.forumTs=this.origForumTs=s.latestUpdateTime();let n=localStorage.getItem(k(t.cid));this.localForumTs=n>0?Number(n):0,this._updateForum(s)&&this._replaceHtml(),this._applyForumBindings(),this._joinPage(a)},_updateForum(e){let t,s=this.cell.cid,o=b(s),n=k(s),i=e.latestUpdateTime();if(v){if(i>this.forumTs)localStorage.setItem(n,i),localStorage.setItem(o,JSON.stringify(e)),this.localForumTs=i;else if(i<this.localForumTs)try{t=p.instance(JSON.parse(localStorage.getItem(o))),(i=this.localForumTs)!==t.latestUpdateTime()&&console.log("WARN: time not matched")}catch(e){this._clearLocalForum()}}else this._clearLocalForum();return this.forum=t||e,i>this.forumTs&&(this.forumTs=i,!0)},_clearLocalForum(){let e=this.cell.cid;localStorage.removeItem(b(e)),localStorage.removeItem(k(e)),this.localForumTs=0},_replaceHtml(){let{cell:e,forum:t}=this;console.log("REPLACING...",f.render({cell:e,forum:t,profile:l,isAdmin:"admin"===l.role})),this.first("[data-topics]").innerHTML=f.render({cell:e,forum:t,profile:l,isAdmin:"admin"===l.role})},_applyForumBindings(){let{cell:e,forum:t}=this,s=r(t.topics,"sid");this.find(".doc-topic").forEach(o=>{let i=n.closestData(o,"sid");i&&s[i]&&m.instance({cntx:this,elem:o,cell:e,forum:t,topic:s[i]})});let o=this.first(".topic-attach");o&&m.instance({cntx:this,elem:o,cell:e,forum:t});let i=r(t.posts,"sid");this.find(".doc-topic-post").forEach(s=>{let o=n.closestData(s,"sid"),r=n.closestData(s,"tid");o&&r&&i[o]&&d.instance({cntx:this,elem:s,cell:e,forum:t,post:i[o]})}),this.find(".topic-post-attach").forEach(s=>{let o=n.closestData(s,"tid");o&&d.instance({cntx:this,elem:s,cell:e,forum:t,post:{pid:e.cid,tid:o}})});let a=r(t.comments,"sid");this.find(".doc-comment").forEach(s=>{let o=n.closestData(s,"sid"),i=n.closestData(s,"pid"),r=n.closestData(s,"tid");console.log("sid pid tid",o,i,r),o&&i&&r&&a[o]&&u.instance({cntx:this,elem:s,cell:e,forum:t,comment:a[o]})}),this.find(".comment-attach").forEach(s=>{let o=n.closestData(s,"pid"),r=i[o]?n.closestData(s,"tid"):null;console.log("comment attach pid tid",o,r),o&&u.instance({cntx:this,elem:s,cell:e,forum:t,comment:{pid:o,tid:r}})})},async refresh(){if(!v)return;let e=await c.askApp("doc",{cid:this.cell.cid},"refresh");console.log(JSON.stringify(e,null,2));let t=p.instance(e.doc.data);this._updateForum(t)&&(this._replaceHtml(),this._applyForumBindings())}})},function(e,t){e.exports=ko},function(e,t,s){const{klass:o,pick:n}=s(0),i=o({init(e){Object.assign(this,n(e,"topics","posts","comments")),this.topics=this.topics||[],this.posts=this.posts||[],this.comments=this.comments||[]},getTopic(e){return this.topics.find(t=>t.sid===e)},getPost(e){return this.posts.find(t=>t.sid===e)},getComment(e){return this.comments.find(t=>t.sid===e)},getComments(e){return this.comments.filter(t=>t.pid===e)},getTopicPosts(e){return this.posts.filter(t=>t.tid===e)},latestUpdateTime(){let e=0;return this.topics.forEach(t=>{t.updated>e&&(e=t.updated)}),this.posts.forEach(t=>{t.updated>e&&(e=t.updated)}),this.comments.forEach(t=>{t.updated>e&&(e=t.updated)}),e}});e.exports=i},function(e,t,s){const{ui:o,assert:n}=s(0),i=s(12);e.exports=o.Cards.subclass({_init({cell:e,topic:t,isNotice:s,penv:o}){this.cell=e||{},this.topic=t||{},this.isNotice=!!s,this.penv=o||{},this._applyBindings()},addTopic(e){let{cell:t,isNotice:s}=this;this.showCard("topic",i,{cell:t,isNotice:s})},editTopic(e){let{cell:t,topic:s,isNotice:o}=this;this.showCard("topic",i,{cell:t,topic:s,isNotice:o})},on_cancel(e){this.hideCard(e)},on_done(e,t){let{cell:s,penv:n}=this;!s.cid&&t&&t.cid&&n.successUrl?o.visit(n.successUrl+"/"+t.cid):o.visit(n.successUrl)}})},function(e,t,s){"use strict";const{ui:o,assert:n,pick:i,errorMap:r,rewriter:a}=s(0),{xbarc:c}=o.modules,{forms:l,FormComp:p}=s(4),m=s(13);e.exports=p.subclass({_init0(e){let{elem:t,params:s}=e,o=this.cell=s.cell,r=this.topic=s.topic||{};n(o.cid,"missing cid");let a=i(r,"title","html");t.innerHTML=m.render({topic:r,form:a}),this.form=this.first("form"),this._applyFormBindings(e)},constraints:{title:{presence:!0},html:{presence:{allowEmpty:!1}}},ckEditors:["textarea"],cancel(){this.cntxEmit("cancel",this)},async save(){let{cell:e,topic:t,form:s,constraints:n}=this,i=this.validateForm();if(!i){let n={...t,...o.formJson(s,"title","html")},a=await c.askApp("doc",{cid:e.cid,topic:n},"upsertTopic");if(i=r(a))return l.showErrors(s,i);this.cntxEmit("done",this,a)}}})},function(e,t,s){var o,n=s(1);o=n.currentEnv?n.currentEnv:n.currentEnv=new n.Environment([],void 0);s(2)(o);var i=n.webpackDependencies||(n.webpackDependencies={}),r=s(3);(n.nunjucksPrecompiled=n.nunjucksPrecompiled||{})["client/topic-editor.nunj"]={root:function(e,t,s,o,n){var i="";try{i+='<div class="card card-primary mb-4">\n  <div class="card-header">\n    Topic\n    <div class="float-right">\n      <button class="btn btn-primary btn-sm" data-click="save">\n        <span class="fa fa-save"></span>\n      </button>\n      <a href="#" class="btn btn-secondary btn-sm" data-click="cancel">\n        <span class="fa fa-times"></span>\n      </a>\n    </div>\n  </div>\n\n  <div class="card-body">\n    <form novalidate>\n      <div class="form-group">\n        <label for="title">Title</label>\n        <input type="text" class="form-control" placeholder="Title" name="title" value="',i+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,s,"form"),"title"),e.opts.autoescape),i+='">\n\n      </div>\n      <div class="form-group">\n        <label for="html">Html</label>\n        <textarea name="html" class="form-control" rows="5" placeholder="Html">',i+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,s,"form"),"html"),e.opts.autoescape),n(null,i+='</textarea>\n      </div>\n      <div class="form-group">\n        <input class="form-control" type="hidden" data-errors="">\n      </div>\n    </form>\n  </div>\n</div>\n')}catch(e){n(o.handleError(e,0,0))}}},e.exports=r(n,o,n.nunjucksPrecompiled["client/topic-editor.nunj"],i)},function(e,t,s){const{ui:o,assert:n}=s(0),i=s(15);e.exports=o.Cards.subclass({_init({cell:e,post:t,penv:s}){this.cell=e||{},this.post=t,n(t,"missing post"),this.penv=s||{},this._applyBindings()},addPost(e){let{cell:t,post:s}=this;this.showCard("post",i,{cell:t,post:s})},editPost(e){let{cell:t,post:s}=this;this.showCard("post",i,{cell:t,post:s})},on_cancel(e){this.hideCard(e)},on_done(e,t){o.visit()}})},function(e,t,s){"use strict";const{ui:o,assert:n,pick:i,errorMap:r,rewriter:a}=s(0),{xbarc:c}=o.modules,{forms:l,FormComp:p}=s(4),m=s(16);e.exports=p.subclass({_init0(e){let{elem:t,params:s}=e,o=this.cell=s.cell,r=this.post=s.post;n(o.cid,"missing cid"),n(r.pid&&r.tid,"missing post pid or tid");let a=i(r,"html");t.innerHTML=m.render({form:a}),this.form=this.first("form"),this._applyFormBindings(e)},constraints:{html:{presence:{allowEmpty:!1}}},ckEditors:["textarea"],cancel(){this.cntxEmit("cancel",this)},async save(){let{cell:e,post:t,form:s,constraints:n}=this,i=this.validateForm();if(!i){let n={...t,...o.formJson(s,"html")},a=await c.askApp("doc",{cid:e.cid,post:n},"upsertTopicPost");if(i=r(a))return l.showErrors(s,i);this.cntxEmit("done",this,a)}}})},function(e,t,s){var o,n=s(1);o=n.currentEnv?n.currentEnv:n.currentEnv=new n.Environment([],void 0);s(2)(o);var i=n.webpackDependencies||(n.webpackDependencies={}),r=s(3);(n.nunjucksPrecompiled=n.nunjucksPrecompiled||{})["client/topic-post-editor.nunj"]={root:function(e,t,s,o,n){var i="";try{i+='<div class="card card-primary mb-4">\n  <div class="card-header">\n    Post\n    <div class="float-right">\n      <button class="btn btn-primary btn-sm" data-click="save">\n        <span class="fa fa-save"></span>\n      </button>\n      <a href="#" class="btn btn-secondary btn-sm" data-click="cancel">\n        <span class="fa fa-times"></span>\n      </a>\n    </div>\n  </div>\n\n  <div class="card-body">\n    <form novalidate>\n      <div class="form-group">\n        <label for="html">Html</label>\n        <textarea name="html" class="form-control" rows="5" placeholder="Html">',i+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,s,"form"),"html"),e.opts.autoescape),n(null,i+='</textarea>\n      </div>\n      <div class="form-group">\n        <input class="form-control" type="hidden" data-errors="">\n      </div>\n    </form>\n  </div>\n</div>\n')}catch(e){n(o.handleError(e,0,0))}}},e.exports=r(n,o,n.nunjucksPrecompiled["client/topic-post-editor.nunj"],i)},function(e,t,s){const{ui:o,assert:n}=s(0),i=s(18);e.exports=o.Cards.subclass({_init({cell:e,comment:t,penv:s}){this.cell=e||{},this.comment=t||{},this.penv=s||{},this._applyBindings()},addComment(e){let{cell:t,comment:s}=this;this.showCard("comment",i,{cell:t,comment:s})},editComment(e){let{cell:t,comment:s}=this;this.showCard("comment",i,{cell:t,comment:s})},on_cancel(e){this.hideCard(e)},on_done(e,t){let{cell:s,penv:n}=this;!s.cid&&t&&t.cid&&n.successUrl?o.visit(n.successUrl+"/"+t.cid):o.visit(n.successUrl)}})},function(e,t,s){"use strict";const{ui:o,assert:n,pick:i,errorMap:r,rewriter:a}=s(0),{xbarc:c}=o.modules,{forms:l,FormComp:p}=s(4),m=s(19);e.exports=p.subclass({_init0(e){let{elem:t,params:s}=e,o=this.cell=s.cell,r=this.comment=s.comment||{};n(o.cid,"missing cid");let a=i(r,"text");t.innerHTML=m.render({comment:r,form:a}),this.form=this.first("form"),this._applyFormBindings(e)},constraints:{text:{presence:!0}},cancel(){this.cntxEmit("cancel",this)},async save(){let{cell:e,comment:t,form:s,constraints:n}=this,i=this.validateForm();if(!i){let n={...t,...o.formJson(s,"text")},a=await c.askApp("doc",{cid:e.cid,comment:n},"upsertComment");if(i=r(a))return l.showErrors(s,i);this.cntxEmit("done",this,a)}}})},function(e,t,s){var o,n=s(1);o=n.currentEnv?n.currentEnv:n.currentEnv=new n.Environment([],void 0);s(2)(o);var i=n.webpackDependencies||(n.webpackDependencies={}),r=s(3);(n.nunjucksPrecompiled=n.nunjucksPrecompiled||{})["client/comment-editor.nunj"]={root:function(e,t,s,o,n){var i="";try{i+='<div class="card card-primary mb-4">\n  <div class="card-header">\n    Comment\n    <div class="float-right">\n      <button class="btn btn-primary btn-sm" data-click="save">\n        <span class="fa fa-save"></span>\n      </button>\n      <a href="#" class="btn btn-secondary btn-sm" data-click="cancel">\n        <span class="fa fa-times"></span>\n      </a>\n    </div>\n  </div>\n\n  <div class="card-body">\n    <form novalidate>\n      <div class="form-group">\n        <label for="text">Text</label>\n        <input type="text" class="form-control" placeholder="Text" name="text" value="',i+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,s,"form"),"text"),e.opts.autoescape),n(null,i+='">\n\n      </div>\n      <div class="form-group">\n        <input class="form-control" type="hidden" data-errors="">\n      </div>\n    </form>\n  </div>\n</div>\n')}catch(e){n(o.handleError(e,0,0))}}},e.exports=r(n,o,n.nunjucksPrecompiled["client/comment-editor.nunj"],i)},function(e,t,s){var o,n=s(1);o=n.currentEnv?n.currentEnv:n.currentEnv=new n.Environment([],{dev:!1,autoescape:!0,throwOnUndefined:!1,trimBlocks:!1,lstripBlocks:!1});s(2)(o);var i=n.webpackDependencies||(n.webpackDependencies={}),r=s(3);(n.nunjucksPrecompiled=n.nunjucksPrecompiled||{})["views/doc/site-cell-topics.nunj"]={root:function(e,t,s,o,n){var i=0,r=0,a="";try{a+="  ";var c=o.makeMacro(["sz","name"],[],function(t,n,i){var r=s;s=new o.Frame,i=i||{},Object.prototype.hasOwnProperty.call(i,"caller")&&s.set("caller",i.caller),s.set("sz",t),s.set("name",n);var a="";return a+='\n  <svg class="rounded-circle mr-3" width="',a+=o.suppressValue(t,e.opts.autoescape),a+='" height="',a+=o.suppressValue(t,e.opts.autoescape),a+='" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img">\n    <rect width="100%" height="100%" fill="#868e96"></rect>\n    <text x="40%" y="50%" fill="#dee2e6" dy=".4em">',a+=o.suppressValue(o.memberLookup(n,0)||"?",e.opts.autoescape),a+="</text>\n  </svg>\n  ",s=r,new o.SafeString(a)});t.addExport("avatar"),t.setVariable("avatar",c),a+="\n\n  ",s=s.push();var l,p=o.memberLookup(o.contextOrFrameLookup(t,s,"forum"),"topics");if(p)for(var m=(p=o.fromIterator(p)).length,d=0;d<p.length;d++){var u=p[d];if(s.set("topic",u),s.set("loop.index",d+1),s.set("loop.index0",d),s.set("loop.revindex",m-d),s.set("loop.revindex0",m-d-1),s.set("loop.first",0===d),s.set("loop.last",d===m-1),s.set("loop.length",m),o.memberLookup(u,"pid")==o.memberLookup(o.contextOrFrameLookup(t,s,"cell"),"cid")){a+='\n  <div class="media doc-topic mb-3 border border-info"\n       data-sid="',a+=o.suppressValue(o.memberLookup(u,"sid"),e.opts.autoescape),a+='" data-tid="',a+=o.suppressValue(o.memberLookup(u,"sid"),e.opts.autoescape),a+='">\n    ',a+=o.suppressValue((i=10,r=12,o.callWrap(c,"avatar",t,[45,o.memberLookup(u,"uid")])),e.opts.autoescape),a+='\n    <div class="media-body" data-pid="',a+=o.suppressValue(o.memberLookup(u,"sid"),e.opts.autoescape),a+='">\n      <h5 class="mt-0">',a+=o.suppressValue(o.memberLookup(u,"title"),e.opts.autoescape),a+="\n        ",o.contextOrFrameLookup(t,s,"isAdmin")&&(a+='\n        <a href="#" class="float-right" data-click="editTopic">edit</a>\n        '),a+="\n      </h5>\n      ",a+=o.suppressValue(e.getFilter("safe").call(t,o.memberLookup(u,"html")),e.opts.autoescape),a+='\n\n      <ul class="list-unstyled my-0">\n        ',s=s.push();var f=o.memberLookup(o.contextOrFrameLookup(t,s,"forum"),"comments");if(f)for(var h=(f=o.fromIterator(f)).length,v=0;v<f.length;v++){var b=f[v];s.set("comment",b),s.set("loop.index",v+1),s.set("loop.index0",v),s.set("loop.revindex",h-v),s.set("loop.revindex0",h-v-1),s.set("loop.first",0===v),s.set("loop.last",v===h-1),s.set("loop.length",h),o.memberLookup(b,"pid")==o.memberLookup(u,"sid")&&(a+='\n        <li class="media doc-comment" data-sid="',a+=o.suppressValue(o.memberLookup(b,"sid"),e.opts.autoescape),a+='">\n          <div class="media-body">\n            <p class="my-0"><strong>@',a+=o.suppressValue(o.memberLookup(b,"uid"),e.opts.autoescape),a+="</strong> ",a+=o.suppressValue(o.memberLookup(b,"text"),e.opts.autoescape),a+="\n              ",o.contextOrFrameLookup(t,s,"isAdmin")&&(a+='\n              <a href="#" data-click="editComment">edit</a>\n              '),a+="\n            </p>\n          </div>\n        </li>\n        ")}s=s.pop(),a+="\n      </ul>\n\n      ",o.memberLookup(o.contextOrFrameLookup(t,s,"profile"),"_id")&&(a+='\n      <p class="comment-attach">\n        <a href="#" data-click="addComment">add a comment</a>\n      </p>\n      '),a+="\n\n      ",s=s.push();var k=o.memberLookup(o.contextOrFrameLookup(t,s,"forum"),"posts");if(k)for(var x=(k=o.fromIterator(k)).length,g=0;g<k.length;g++){var y=k[g];if(s.set("post",y),s.set("loop.index",g+1),s.set("loop.index0",g),s.set("loop.revindex",x-g),s.set("loop.revindex0",x-g-1),s.set("loop.first",0===g),s.set("loop.last",g===x-1),s.set("loop.length",x),o.memberLookup(y,"tid")==o.memberLookup(u,"sid")){a+='\n      <div class="media doc-topic-post mt-3 border border-warning"\n           data-sid="',a+=o.suppressValue(o.memberLookup(y,"sid"),e.opts.autoescape),a+='" data-pid="',a+=o.suppressValue(o.memberLookup(y,"sid"),e.opts.autoescape),a+='">\n        ',a+=o.suppressValue((i=42,r=16,o.callWrap(c,"avatar",t,[35,o.memberLookup(y,"uid")])),e.opts.autoescape),a+='\n        <div class="media-body">\n          ',o.contextOrFrameLookup(t,s,"isAdmin")&&(a+='\n          <a href="#" class="float-right" data-click="editPost">edit</a>\n          '),a+="\n          ",a+=o.suppressValue(e.getFilter("safe").call(t,o.memberLookup(y,"html")),e.opts.autoescape),a+='\n\n          <ul class="list-unstyled my-0">\n            ',s=s.push();var L=o.memberLookup(o.contextOrFrameLookup(t,s,"forum"),"comments");if(L)for(var _=(L=o.fromIterator(L)).length,w=0;w<L.length;w++){var F=L[w];s.set("comment",F),s.set("loop.index",w+1),s.set("loop.index0",w),s.set("loop.revindex",_-w),s.set("loop.revindex0",_-w-1),s.set("loop.first",0===w),s.set("loop.last",w===_-1),s.set("loop.length",_),o.memberLookup(F,"pid")==o.memberLookup(y,"sid")&&(a+='\n            <li class="media doc-comment" data-sid="',a+=o.suppressValue(o.memberLookup(F,"sid"),e.opts.autoescape),a+='">\n              <div class="media-body">\n                <p class="my-0"> <strong>@',a+=o.suppressValue(o.memberLookup(F,"uid"),e.opts.autoescape),a+="</strong> ",a+=o.suppressValue(o.memberLookup(F,"text"),e.opts.autoescape),a+="\n                  ",o.contextOrFrameLookup(t,s,"isAdmin")&&(a+='\n                  <a href="#" data-click="editComment">edit</a>\n                  '),a+="\n                </p>\n              </div>\n            </li>\n            ")}s=s.pop(),a+='\n          </ul>\n\n          <div class="comment-attach">\n            ',o.memberLookup(o.contextOrFrameLookup(t,s,"profile"),"_id")&&(a+='\n            <a href="#" data-click="addComment">add a comment</a>\n            '),a+="\n          </div>\n        </div>\n      </div>\n      "}}s=s.pop(),a+="\n\n      ",o.memberLookup(o.contextOrFrameLookup(t,s,"profile"),"_id")&&(a+='\n      <div class="topic-post-attach my-2">\n        <a class="btn btn-outline-info btn-sm" data-click="addPost">\n          <span class="fa fa-plus"></span> Post\n        </a>\n      </div>\n      '),a+="\n    </div>\n  </div>\n  "}}s=s.pop(),a+="\n\n  ",l="spa"==o.memberLookup(o.contextOrFrameLookup(t,s,"profile"),"mode"),s.set("isSpa",l,!0),s.topLevel&&t.setVariable("isSpa",l),s.topLevel&&t.addExport("isSpa",l),a+="\n  ",(o.memberLookup(o.contextOrFrameLookup(t,s,"profile"),"_id")||o.contextOrFrameLookup(t,s,"isSpa"))&&(a+='\n  <div class="topic-attach ',o.contextOrFrameLookup(t,s,"isSpa")&&(a+="spa"),a+='" class="mt-2">\n    <a class="btn btn-outline-info btn-sm" data-click="addTopic">\n      <span class="fa fa-plus"></span> Topic\n    </a>\n  </div>\n  '),n(null,a+="\n\n")}catch(e){n(o.handleError(e,i,r))}}},e.exports=r(n,o,n.nunjucksPrecompiled["views/doc/site-cell-topics.nunj"],i)}]);